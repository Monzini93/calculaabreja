<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Cerveja por Litro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f8f9fa;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        .formulario {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0px 0px 8px rgba(0,0,0,0.1);
            width: 300px;
        }
        .formulario h2 {
            font-size: 18px;
            margin-bottom: 10px;
            text-align: center;
            color: #444;
        }
        .campo {
            margin-bottom: 12px;
        }
        .campo label {
            display: block;
            font-weight: bold;
            margin-bottom: 4px;
            color: #555;
        }
        .campo input, .campo select {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .resultado {
            font-weight: bold;
            color: #006400;
            text-align: center;
            margin-top: 10px;
        }
        .melhor-opcao {
            margin-top: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #d9534f;
        }
    </style>
</head>
<body>
    <h1>üçª Calculadora de Cerveja por Litro</h1>

    <div class="container">
        <!-- Pack 1 -->
        <div class="formulario" id="pack1">
            <h2>Pack 1</h2>
            <div class="campo">
                <label>Pre√ßo (R$)</label>
                <input type="number" class="preco" step="0.01" placeholder="Ex: 39.90">
            </div>
            <div class="campo">
                <label>Volume (ml)</label>
                <select class="volume-input">
                   <!-- <option value="269">269 ml</option>
                    <option value="300">300 ml</option>
                    <option value="350">350 ml</option>
                    <option value="473">473 ml</option>
                    <option value="550">550 ml</option>
                    <option value="600">600 ml</option>
                    <option value="1000">1 litro</option> -->
                    <option value="outro">Quantidade</option>
                </select>
                <input type="number" class="volume-custom-input" placeholder="Digite o volume em ml" style="display: none; margin-top: 5px;">
            </div>
            <div class="campo">
                <label>Quantidade</label>
                <select class="quantidade-input">
                    <option value="6">6 unidades</option>
                    <option value="8">8 unidades</option>
                    <option value="12" selected>12 unidades</option>
                    <option value="15">15 unidades</option>
                    <option value="16">16 unidades</option>
                    <option value="18">18 unidades</option>
                    <option value="24">24 unidades</option>
                    <option value="outro">Outro...</option>
                </select>
                <input type="number" class="quantidade-custom-input" placeholder="Quantidade" style="display: none; margin-top: 5px;">
            </div>
            <div class="resultado"></div>
        </div>

        <!-- Pack 2 -->
        <div class="formulario" id="pack2">
            <h2>Pack 2</h2>
            <div class="campo">
                <label>Pre√ßo (R$)</label>
                <input type="number" class="preco" step="0.01" placeholder="Ex: 39.90">
            </div>
            <div class="campo">
                <label>Volume (ml)</label>
                <select class="volume-input">
                    <option value="269">269 ml</option>
                    <option value="300">300 ml</option>
                    <option value="350">350 ml</option>
                    <option value="473">473 ml</option>
                    <option value="550">550 ml</option>
                    <option value="600">600 ml</option>
                    <option value="1000">1 litro</option>
                    <option value="outro">Outro...</option>
                </select>
                <input type="number" class="volume-custom-input" placeholder="Digite o volume em ml" style="display: none; margin-top: 5px;">
            </div>
            <div class="campo">
                <label>Quantidade</label>
                <select class="quantidade-input">
                    <option value="6">6 unidades</option>
                    <option value="8">8 unidades</option>
                    <option value="12" selected>12 unidades</option>
                    <option value="15">15 unidades</option>
                    <option value="16">16 unidades</option>
                    <option value="18">18 unidades</option>
                    <option value="24">24 unidades</option>
                    <option value="outro">Outro...</option>
                </select>
                <input type="number" class="quantidade-custom-input" placeholder="Quantidade" style="display: none; margin-top: 5px;">
            </div>
            <div class="resultado"></div>
        </div>

        <!-- Pack 3 -->
        <div class="formulario" id="pack3">
            <h2>Pack 3</h2>
            <div class="campo">
                <label>Pre√ßo (R$)</label>
                <input type="number" class="preco" step="0.01" placeholder="Ex: 39.90">
            </div>
            <div class="campo">
                <label>Volume (ml)</label>
                <select class="volume-input">
                    <option value="269">269 ml</option>
                    <option value="300">300 ml</option>
                    <option value="350">350 ml</option>
                    <option value="473">473 ml</option>
                    <option value="550">550 ml</option>
                    <option value="600">600 ml</option>
                    <option value="1000">1 litro</option>
                    <option value="outro">Outro...</option>
                </select>
                <input type="number" class="volume-custom-input" placeholder="Digite o volume em ml" style="display: none; margin-top: 5px;">
            </div>
            <div class="campo">
                <label>Quantidade</label>
                <select class="quantidade-input">
                    <option value="6">6 unidades</option>
                    <option value="8">8 unidades</option>
                    <option value="12" selected>12 unidades</option>
                    <option value="15">15 unidades</option>
                    <option value="16">16 unidades</option>
                    <option value="18">18 unidades</option>
                    <option value="24">24 unidades</option>
                    <option value="outro">Outro...</option>
                </select>
                <input type="number" class="quantidade-custom-input" placeholder="Quantidade" style="display: none; margin-top: 5px;">
            </div>
            <div class="resultado"></div>
        </div>
    </div>

    <div class="melhor-opcao" id="melhorOpcao"></div>

    <script>
        function calcular() {
            const packs = document.querySelectorAll('.formulario');
            let resultados = [];

            packs.forEach((form, index) => {
                const preco = parseFloat(form.querySelector(".preco").value);

                // Volume
                const volumeSelect = form.querySelector(".volume-input");
                let volume;
                if (volumeSelect.value === 'outro') {
                    const customVolumeInput = form.querySelector(".volume-custom-input");
                    volume = parseFloat(customVolumeInput.value);
                } else {
                    volume = parseFloat(volumeSelect.value);
                }

                // Quantidade
                const quantidadeSelect = form.querySelector(".quantidade-input");
                let quantidade;
                if (quantidadeSelect.value === 'outro') {
                    const customQtdInput = form.querySelector(".quantidade-custom-input");
                    quantidade = parseFloat(customQtdInput.value);
                } else {
                    quantidade = parseFloat(quantidadeSelect.value);
                }

                if (!isNaN(preco) && !isNaN(volume) && !isNaN(quantidade)) {
                    const litrosTotais = (volume * quantidade) / 1000;
                    const precoPorLitro = preco / litrosTotais;
                    resultados.push({ pack: index + 1, precoPorLitro });
                    form.querySelector(".resultado").innerHTML =
                        `üí∞ R$ ${precoPorLitro.toFixed(2)} / litro`;
                } else {
                    form.querySelector(".resultado").innerHTML = "";
                }
            });

            if (resultados.length > 0) {
                const melhor = resultados.reduce((min, p) => p.precoPorLitro < min.precoPorLitro ? p : min);
                document.getElementById("melhorOpcao").innerHTML =
                    `üëâ Melhor op√ß√£o: <b>Pack ${melhor.pack}</b> (R$ ${melhor.precoPorLitro.toFixed(2)} / litro)`;
            } else {
                document.getElementById("melhorOpcao").innerHTML = "";
            }
        }

        document.querySelectorAll("input, select").forEach(el => {
            el.addEventListener("input", calcular);
            el.addEventListener("change", calcular);
        });

        // Volume customizado
        document.querySelectorAll('.volume-input').forEach(selectElement => {
            selectElement.addEventListener('change', (event) => {
                const form = event.target.closest('.campo');
                const customInput = form.querySelector('.volume-custom-input');
                if (event.target.value === 'outro') {
                    customInput.style.display = 'block';
                    customInput.focus();
                } else {
                    customInput.style.display = 'none';
                }
            });
        });

        // Quantidade customizada
        document.querySelectorAll('.quantidade-input').forEach(selectElement => {
            selectElement.addEventListener('change', (event) => {
                const form = event.target.closest('.campo');
                const customInput = form.querySelector('.quantidade-custom-input');
                if (event.target.value === 'outro') {
                    customInput.style.display = 'block';
                    customInput.focus();
                } else {
                    customInput.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
